# djShow (v2.5.0)

С помощью программы djShow танго-диджей на милонге может транслировать название и исполнителя композиции на различные устройства: мониторы, планшеты, телефоны. Программа кроссплатформенная - Linux, Mac, Windows, имеет пользовательские настройки и не создает нагрузки при работе.


## Принцип работы

Музыкальный проигрыватель с помощью плагина экспортирует информацию об исполняемой композиции. На этом же компьютере запускается простой http-сервер. По адресу: http://IP-компьютера в локальной сети (интернет не нужен) можно видеть файл index.html, который отображает название и исполнителя, автоматически обновляясь при появлении новых данных. Пример работы см. на видео: https://youtu.be/WGIcBXKJPKI


## Пошаговая инструкция

### Шаг 1. Готовим экспорт данных из плейера

Необходимо настроить музыкальный проигрыватель так, чтобы он экспортировал информацию об исполняемой композиции. Это можно сделать с помощью плагинов к плейеру или скриптов. Инструкцию по настройке читайте в [Wiki](https://github.com/SevaXXL/djShow/wiki).

Протестированные решения под Windows:
- Для **Aimp** необходим плагин Current track info to file - [инструкция](https://github.com/SevaXXL/djShow/wiki/Export-from-Aimp)
- Для **Foobar2000** - плагин Now Playing Simple - [инструкция](https://github.com/SevaXXL/djShow/wiki/Export-from-Foobar2000)
- Для **MusicBee** - плагин Now Playing to External Files - [инструкция](https://github.com/SevaXXL/djShow/wiki/Export-from-MusicBee)
- Для **iTunes, Winamp** и **Windows Media Player** существует несколько решений - уточните в группе проекта
- Для **Traktor** - скрипт icecast.js в папке scripts - [инструкция](https://github.com/SevaXXL/djShow/wiki/Export-from-Traktor)

Под Mac:
- Для **Embrace, iTunes, Swinsian** и **VOX** данные в файл экспортируют соответствующие apple-скрипты из папки scripts
- В плейере **Djay** файл NowPlaying.txt создается автоматически и лежит в папке ~/Music/djay
- Для **Traktor** под Mac [инструкция](https://github.com/SevaXXL/djShow/wiki/Export-from-Traktor) такая же, как и под Windows

Под Linux
- Для **Audacious** достаточно [прописать команду](https://github.com/SevaXXL/djShow/wiki/Export-from-Audacious) в настройках
- Для **Clementine** и **Deadbeef** необходимо [запустить соответствующий скрипт](https://github.com/SevaXXL/djShow/wiki/Child-process) в папке scripts
- Для **Rhythmbox** - плагин в папке scripts

### Шаг 2. Копируем файлы и включаем мини-сервер

Скачиваем файлы djShow `Download ZIP` и распаковываем в любое удобное место на компьютере, например, `D:\djShow` (Windows), или `~/djShow` (Mac, Linux). Для работы также необходима небольшая программа NodeJS, которую устанавливаем с официального сайта http://nodejs.org (можно установить в минимальной комплектации без npm). Итак, имеем папку с файлами проекта и программу NodeJS в системе. С помощью NodeJS запускаем скрипт из папки проекта `server.js`:
- Windows - создаем файл start.bat с содержимым: `"C:\Program Files\nodejs\node.exe" server.js`
- Mac и Linux - в Терминале пишем: `$ sudo node ~/djShow/server.js`. По умолчанию задействован порт 80, поэтому необходимо запускать с `sudo`.

На этом этапе сервер уже работает по адресу: http://127.0.0.1. Можно открыть эту страницу в браузере и подключить второй экран или проектор. Если страница не открывается, возможно, что 80-й порт уже занят другой программой. Можно [назначить новый порт](https://github.com/SevaXXL/djShow/wiki/Set-port).

### Шаг 3. Создаем сеть

Включаем wifi-роутер. С любого устройства в сети переходим по адресу: http://IP-компьютера. Узнать IP можно при старте программы с включенной сетью.


## Контакты

Если есть вопросы, пожалуйста, обращайтесь по email: adeinega@mail.ru, или пишите в группе проекта djShow на Facebook - https://www.facebook.com/groups/448365622022494/


## Версии

2.5.x - Поддержка Windows Phone и старых браузеров.

2.4.x - Возможность подключения внешних модулей в работе сервера.

2.3.x - Мультиязычность.

2.2.x - Новые возможности в API.

2.1.x - Добавлена возможность расширять возможности программы сторонними сценариями.

2.0.x - Миграция на Nodejs и переход на Server Side Events.

1.x.x - Первые версии пограммы работали с помощью ajax-запросов. Сервер отдавал только статику.