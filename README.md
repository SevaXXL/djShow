# djShow (v2.2.2)

С помощью программы djShow танго-диджей на милонге может транслировать название и исполнителя композиции на различные устройства: мониторы, планшеты, телефоны. Программа работает под Windows, Mac и Linux, имеет пользовательские настройки, полностью автоматизирована и практически не создает нагрузки на процессор.


## Принцип работы

Музыкальный проигрыватель с помощью плагина или скрипта экспортирует информацию об исполняемой композиции. На этом же компьютере запускается простой http-сервер. По адресу: http://IP-компьютера в локальной сети можно видеть файл index.html, который отображает название и исполнителя, самостоятельно обновляясь при появлении новых данных. Пример работы см. на видео: https://youtu.be/WGIcBXKJPKI


## Пошаговая инструкция

**Шаг 1. Готовим экспорт данных из плейера**

Протестированные решения под Windows:
- Для Aimp необходим плагин Current track info to file. Инструкция: https://github.com/SevaXXL/djShow/wiki/Export-from-Aimp-Windows
- Для Foobar2000 - плагин Now Playing Simple. Инструкция: https://github.com/SevaXXL/djShow/wiki/Export-from-Foobar2000-Windows
- Для iTunes, Winamp, Windows Media Player также есть плагины - уточните в группе.

Под Mac:
- Для iTunes, Swinsian и VOX - скрипты NowPlaying[...].app, приложены в папке additional. Для других поригрывателей под Mac можно написать аналогичные скрипты самостоятельно (смотрите код).
- В плейере Djay файл NowPlaying.txt создается автоматически и лежит в папке /Users/%username%/Music/djay

Под Linux
- Для Clementine скрипт на python - уточните в группе.

**Шаг 2. Включаем мини-сервер**

Для этого необходима программа NodeJS, которую устанавливаем с официального сайта http://nodejs.org. С помощью NodeJS запускаем скрипт `server.js`:
- Windows - создаем файл start.bat с содержимым: `"C:\Program Files\nodejs\node.exe" server.js`
- Mac и Linux - `$ sudo node  путь_к_скрипту/server.js`.

На этом этапе программа уже работает по адресу: http://localhost или http://127.0.0.1. Можно открыть эту страницу в браузере и подключить второй экран или проектор.

**Шаг 3. Создаем сеть**

Включаем wifi-роутер. С любого устройства в сети переходим по адресу: http://IP-компьютера.


## Контакты

Если есть вопросы, пожалуйста, обращайтесь по email: adeinega@mail.ru. Группа проекта djShow на Facebook - https://www.facebook.com/groups/448365622022494/


## Версии

2.2.x - Новые возможности в API.

2.1.x - Добавлена возможность расширять возможности программы сторонними сценариями.

2.0.x - Миграция на Nodejs и переход на Server-Sent Events.

1.x.x - Первые версии пограммы работали с помощью ajax-запросов. Сервер отдавал только статику.